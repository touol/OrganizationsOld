<?xml version="1.0" encoding="UTF-8"?>
<model package="organizations" baseClass="xPDOObject" platform="mysql" defaultEngine="MyISAM" phpdoc-package="organizations"
	   version="1.1">
	<object class="OrgsConfig" table="orgs_config" extends="xPDOSimpleObject">
		<field key="setting" dbtype="varchar" precision="15" phptype="string" null="true" default="" />
		<field key="value" dbtype="text" phptype="string" null="true" />
		<field key="xtype" dbtype="varchar" precision="15" phptype="string" null="true" default="" />
	</object>
	<object class="Orgs" table="orgs" extends="xPDOSimpleObject">
		<field key="shortname" dbtype="varchar" precision="255" phptype="text" null="false" default=""/>
		<field key="longname" dbtype="text" precision="255" phptype="text" null="false" default=""/>
		<field key="description" dbtype="text" phptype="text" null="true" default=""/>
		<field key="inn" dbtype="varchar" precision="12" phptype="text" null="false" default="" />
		<field key="kpp" dbtype="varchar" precision="9" phptype="text" null="false" default="" />
		<field key="ogrn" dbtype="varchar" precision="13" phptype="text" null="false" default="" />
		<field key="okpo" dbtype="varchar" precision="10" phptype="text" null="false" default="" />
		<field key="ur_address" dbtype="text" phptype="text" null="false" default=""/>
		<field key="postal_address" dbtype="text" phptype="text" null="false" default=""/>
		<field key="bank_name" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="bank_bik" dbtype="varchar" precision="9" phptype="text" null="false" default=""/>
		<field key="bank_sity" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="bank_rasch_acc" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="bank_kor_acc" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="logotip" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="director" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="glav_buh" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="kontragent" dbtype="text" precision="300" phptype="text" null="false" default=""/>
		<field key="email" dbtype="text" precision="255" phptype="text" null="false" default=""/>
		<field key="site" dbtype="text" precision="255" phptype="text" null="false" default=""/>
		<field key="phone" dbtype="text" precision="255" phptype="text" null="false" default=""/>
		<field key="phone_add" dbtype="text" phptype="text" null="false" default=""/>
		<field key="fax" dbtype="text" precision="255" phptype="text" null="false" default=""/>
		<field key="discount" dbtype="int" precision="2" phptype="integer" attributes="unsigned" null="true" default="0" />
		<field key="manager_id" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="true" default="0" />
		<field key="active" dbtype="tinyint" precision="1" phptype="boolean" null="true" default="1"/>

		<index alias="shortname" name="shortname" primary="false" unique="false" type="BTREE">
			<column key="shortname" length="" collation="A" null="false"/>
		</index>
		<index alias="inn" name="inn" primary="false" unique="false" type="BTREE">
			<column key="inn" length="" collation="A" null="false"/>
		</index>
		<index alias="active" name="active" primary="false" unique="false" type="BTREE">
			<column key="active" length="" collation="A" null="false"/>
		</index>
		
		<composite alias="OrgsUsersLink" class="OrgsUsersLink" local="id" foreign="org_id" cardinality="many" owner="local" />
	</object>
	<object class="OrgsUsersLink" table="orgs_users_link" extends="xPDOSimpleObject">
		<field key="org_id" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false"  />
		<field key="user_id" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false"  />
		<field key="appointment" dbtype="text" precision="255" phptype="text" null="true" default=""/>
		<field key="user_group_id" dbtype="int" precision="6" phptype="integer" attributes="unsigned" null="true" default="0" />
		<field key="active" dbtype="tinyint" precision="1" phptype="boolean" null="true" default="1"/>

		<index alias="org_id" name="org_id" primary="false" unique="false" type="BTREE">
			<column key="org_id" length="" collation="A" null="false"/>
		</index>
		<index alias="user_id" name="user_id" primary="false" unique="false" type="BTREE">
			<column key="user_id" length="" collation="A" null="false"/>
		</index>
		<index alias="active" name="active" primary="false" unique="false" type="BTREE">
			<column key="active" length="" collation="A" null="false"/>
		</index>
		
		<aggregate alias="Orgs" class="Orgs" local="org_id" foreign="id" cardinality="one" owner="foreign" />
		<aggregate alias="User" class="modUser" local="user_id" foreign="id" cardinality="one" owner="foreign" />
	</object>
	<object class="OrgsUsers" table="orgs_users" extends="xPDOSimpleObject">
		<field key="user_id" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" />
		<field key="discount" dbtype="int" precision="2" phptype="integer" attributes="unsigned" null="true" default="0" />
		<field key="manager_id" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="true" default="0" />
		<field key="default_org_id" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" />
		<index alias="user_id" name="user_id" primary="false" unique="false" type="BTREE">
			<column key="user_id" length="" collation="A" null="false"/>
		</index>

		<aggregate alias="User" class="modUser" local="user_id" foreign="id" cardinality="one" owner="foreign" />
	</object>
	<object class="OrgsUsersGroups" table="orgs_users_groups" extends="xPDOSimpleObject">
		<field key="name" dbtype="varchar" precision="120" phptype="text" null="false" default="" />
		<field key="description" dbtype="text" phptype="text" null="true" default=""/>
		<field key="data" dbtype="text" phptype="text" null="true" default=""/>
		<index alias="name" name="name" primary="false" unique="false" type="BTREE">
			<column key="name" length="" collation="A" null="false"/>
		</index>
	</object>
</model>